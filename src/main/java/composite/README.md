# Composite 패턴 📚 - 그릇과 내용물을 동일시하기

### Composite 
- '상자 안의 상자'로 된 구조. 즉 재귀적인 구조
- 디렉토리와 파일은 서로 다르지만 모두 **디렉토리 안에 넣을 수 있는 것**이다
  - 디렉토리 & 파일을 같은 종류로 간주하고 합해서 `디렉토리 엔트리`라고 부른다
- **그릇과 내용물을 동일시해서 재귀적인 구조를 만들기 위한 디자인 패턴**

--- 


#### 예제



--- 
### Composite 패턴의 등장인물
- Leaf(나뭇잎)의 역할
  - File 처럼 '내용물'을 표시하는 역할을 하며, 내부에 다른 것을 넣을 수 없다
- Composite(복합체)의 역할
  - 'Directory' 처럼 '그릇'을 나타내는 역할을 하며 Leaf or Composite 역할을 넣을 수 있다
- Component의 역할
  - 'Entry' 처럼 Leaf 역할과 Composite 역할을 동일시하는 역할
- Client(의뢰자)의 역할
---
# 📌 Check

---

### TIP! 복수와 단수를 동일시
Composite 패턴은 그릇과 내용물을 동일시하는 패턴이지만, 복수아 단수 역시 동일시한다
> 여러 개를 모아서 마치 하나인 것처럼 취급

### TIP! `add()` 메소드 구현 방법
예제 프로그램에서는 Entry 클래스에서 add 메소드를 정의하고 예외를 제공했습니다.
add 메소드의 설치와 구현에는 다양한 방법이 있습니다

#### 1. Entry 클래스에서 구현하고 에러로 처리한다
예제 프로그램에서 사용한 방법으로 Entry 클래스에서 구현하고 에러로 처리
실제로 메소드를 사용하는 Directory 클래스만 오버라이딩해서 의미있는 구현으로 전환

#### 2. Entry 클래스에서 구현하고 아무것도 실행하지 않는다
메소드를 호출하더라도 아무 일이 발생하지 않도록 만드는 방법

#### 3. Entry 클래스에서 선언은 하지만 구현은 하지 않는다
Entry 클래스에서 add 메소드를 추상 메소드로 하고, 
하위 클래스에서 
- 필요하다면 -> 정의
- 필요하지 않다면 -> 에러로 처리
일관성을 가질 수 있고 불필요한 경우의 작동을 하위 클래스에서 결정할 수 있는 장점
  
#### 4. Directory 클래스에만 넣는다
add 메소드를 Entry 클래스에는 넣지 않고, 처음부터 add 메소드를 필요로하는 Directory 클래스에 넣는다
*BUT, 이 방법은 Entry형 변수에 add할 때 하나하나 Directory 형으로 Cast해야하는 불편함이 있다* 
